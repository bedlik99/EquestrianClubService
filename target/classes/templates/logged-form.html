<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="UTF-8">
    <title>Logged In</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Reference Bootstrap files -->
    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script type="text/javascript" src="js/buttonEvent.js" async></script>

    <link rel="stylesheet"
          th:href="@{/css/main.css}"/>

</head>
<body class="backcolor">

<div>
    <div style="font-family: 'Times New Roman';font-size: 16px;
          margin-left: 90%;margin-right: 5px;margin-top: 2px;text-align: center;
            border: 2px solid black;background-color: lightskyblue">
        <span>Logged in user:</span>
        <b><span sec:authentication="name">Username</span></b>
    </div>

    <div style="margin-right: 20px;text-align: right">
        <form th:action="@{/logout}" method="post">
            <input style="margin-top: 5px" class="btn btn-success" type="submit" value="Logout"/>
        </form>
    </div>

    <div style="text-align: right;margin-right: 20px;margin-top: 5px">

        <a th:href="@{/logged/update(userId=${loggedUser.id})}">
            <input class="btn btn-primary" type="submit" value="Update Profile"/>
        </a>
    </div>

    <hr>
    <div style="text-align: right;margin-right: 20px;margin-top: 5px">
        <input id="showCodeButton" class="btn btn-default" style="background-color: #85f7ba"
               type="submit" value="Show code"/>
        <input id="hideCodeButton" class="btn btn-default" style="background-color: #daccff"
               type="submit" value="Hide Code"/><br>

            <label style="margin-top: 5px">
                <textarea class="textArea" style="text-align: center;visibility: hidden" readonly th:text="${loggedUserCode.getInviteCode()}">a</textarea>
            </label>

    </div>

    <div style="margin-left: 37%;text-align: center">
        <p style="font-size: 30px;font-family: 'Times New Roman';max-width: 400px">
            Hi!<br>
            Copy code for session to get authenticated!<br>
            Enjoy!
        </p>
    </div>

    <div style="text-align: center" sec:authorize="hasAuthority('CUSTOMER')">
        <form th:action="@{/logged/details}">
            <input class="btn btn-info" type="submit" value="Go to session"/>
        </form>
    </div>
    <hr>


</div>


</body>
</html>